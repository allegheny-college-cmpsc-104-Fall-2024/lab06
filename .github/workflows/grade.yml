# Basic workflow
name: Grade Reports

# Controls when the action will run. Workflow begins with push or PR events.
# Focuses on the main branch only.
on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

# Create one single job. This job performs all necessary checks.
jobs:
  check-wiki:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout Repository
      uses: actions/checkout@v3
      with:
        token: ${{ secrets.GITHUB_TOKEN }}
        repository: allegheny-college-cmpsc-104-Fall-2024/lab06_solution.wiki

    - name: Check for Required Wiki Pages
      run: |
        PAGES=("Home.md" "Setup-Guide.md" "Features.md" "_Sidebar.md")
        for PAGE in "${PAGES[@]}"; do
          if [ ! -f "$PAGE" ]; then
            echo "$PAGE is missing" && exit 1
          fi
        done